<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>GeoGebra 固定範囲サンプル</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
    }
    /* 埋め込み要素を縦長に */
    #ggb-element {
      width: 100%;
      height: 90vh;         /* ビューポート高さの90% */
      max-height: 800px;    /* 必要に応じて上限を */
    }
  </style>

  <!-- ① ggbOnInit を先に定義しておく -->
  <script>
    // GGBApplet インスタンス (下で inject)
    var ggbApplet;

    // GeoGebra 本体の初期化完了後に呼ばれる
    function ggbOnInit() {
      // setCoordSystem(xMin, xMax, yMin, yMax)
      ggbApplet.setCoordSystem(-0.5, 7, -7, 7);
    }
  </script>

  <!-- ② GeoGebra JS API -->
  <script src="https://www.geogebra.org/apps/deployggb.js"></script>
</head>
<body>

  <!-- 埋め込み先 -->
  <div id="ggb-element"></div>

  <script>
    // ③ GGBApplet の生成（true を渡すと ggbOnInit が使われる）
    ggbApplet = new GGBApplet({
      material_id: "nkk867we",   // ← あなたの素材IDに置き換え
      showToolBar: false,
      showMenuBar: false,
      showAlgebraInput: false,
      enableRightClick: false,
      enableShiftDragZoom: false
    }, true);

    // ④ ページ load で inject
    window.addEventListener("load", function() {
      ggbApplet.inject("ggb-element");
    });
  </script>

</body>
</html>
